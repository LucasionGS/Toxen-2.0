<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="css/toxen.css">
  <link rel="stylesheet" href="css/toxenStyle.css">
  <link rel="stylesheet" href="css/toxen.css" id="extracss">
  <script>var exports = {};</script>
  <script async src="toxen.js"></script>
  <title>Toxen</title>
</head>
<body>
  <header id="titlebar">
    <img src="../icon.png">
    <div id="drag-region">
      <div id="window-title">
        <div id="title-container">
          <span id="toxen-title-text">Loading Toxen...</span>
        </div>
        <div id="system-menu"> <!-- Inserted in code--> </div>
      </div>
      <div id="window-controls">

        <div class="button" id="min-button">
          <img class="icon" srcset="icons/min-w-10.png 1x, icons/min-w-12.png 1.25x, icons/min-w-15.png 1.5x, icons/min-w-15.png 1.75x, icons/min-w-20.png 2x, icons/min-w-20.png 2.25x, icons/min-w-24.png 2.5x, icons/min-w-30.png 3x, icons/min-w-30.png 3.5x" draggable="false" />
        </div>
  
        <div class="button" id="max-button">
          <img class="icon" srcset="icons/max-w-10.png 1x, icons/max-w-12.png 1.25x, icons/max-w-15.png 1.5x, icons/max-w-15.png 1.75x, icons/max-w-20.png 2x, icons/max-w-20.png 2.25x, icons/max-w-24.png 2.5x, icons/max-w-30.png 3x, icons/max-w-30.png 3.5x" draggable="false" />
        </div>
  
        <div class="button" id="restore-button">
          <img class="icon" srcset="icons/restore-w-10.png 1x, icons/restore-w-12.png 1.25x, icons/restore-w-15.png 1.5x, icons/restore-w-15.png 1.75x, icons/restore-w-20.png 2x, icons/restore-w-20.png 2.25x, icons/restore-w-24.png 2.5x, icons/restore-w-30.png 3x, icons/restore-w-30.png 3.5x" draggable="false" />
        </div>
  
        <div class="button" id="close-button">
          <img class="icon" srcset="icons/close-w-10.png 1x, icons/close-w-12.png 1.25x, icons/close-w-15.png 1.5x, icons/close-w-15.png 1.75x, icons/close-w-20.png 2x, icons/close-w-20.png 2.25x, icons/close-w-24.png 2.5x, icons/close-w-30.png 3x, icons/close-w-30.png 3.5x" draggable="false" />
        </div>
  
      </div>
    </div>
  </header>
  <div id="mainbody">
    <canvas id="storyboard"></canvas>
    <div id="bottomgradient" class="hideoninactive"></div>
    <video id="musicObject"></video>
    <div id="progressbarspot2" class="hideoninactive" style="position: absolute; width: 100%; bottom: 0;"></div>
    <div class="sidebar left" id="songmenusidebar">
      <!-- <div id="progressbarspot1">
        <div id="progress">
          <br>
          <progress id="progressbar" class="fancyprogress"></progress>
        </div>
      </div>
      <hr> -->
      <div id="lockPanel" onclick="Settings.current.toggleSongPanelLock(); Settings.current.saveToFile()" title="Toggle lock Panel">ðŸ”“</div>
      <div class="flex" style="width: 90%">
        <div style="width: 100%">
        <label for="search">Search</label>
        <br>
        <input style="width: 90%" type="text" id="search" oninput="SongManager.search(this.value)" class="fancyinput">
        </div>
      </div>
      <div id="songselection"></div>
      <div class="flex">
        <button
        class="fancybutton"
        title="Sort by Artist"
        id="sortByArtist"
        onclick="SongManager.refreshList('artist');">Artist</button>
        <button 
        class="fancybutton"
        title="Sort by Title"
        id="sortByTitle"
        onclick="SongManager.refreshList('title');">Title</button>
        <button 
        class="fancybutton"
        title="Sort by Length"
        id="sortByLength"
        onclick="SongManager.refreshList('length');">Length</button>
      </div>
      <br>
      <div class="flex">
        <select style="width: 100%" name="playlist" id="playlistselection" class="fancyselect" onchange="Settings.current.selectPlaylist(this.value); Settings.current.saveToFile();">
          <option value="%null%">None</option>
        </select>
        <button style="width: 35%" class="fancybutton" onclick="Settings.current.addPlaylist();">New</button>
      </div>
      <hr>
      <div class="flex">
        <!-- <button
        class="fancybutton color-red"
        id="toggleShuffle"
        title="Shuffle makes songs play randomly instead of in a list order"
        onclick="SongManager.toggleShuffle()">Shuffle</button>
        <button
        class="fancybutton color-red"
        id="toggleRepeat"
        title="Repeat make the current song repeat forever"
        onclick="SongManager.toggleRepeat()">Repeat</button> -->
        <button
        class="fancybutton color-red"
        id="toggleOnlyvisible"
        title="This makes sure only songs that are visible (i.e is inside an open Song Group) will be played."
        onclick="SongManager.toggleOnlyVisible()">Only play songs visible in the panel</button>
      </div>
        <script>
          function local_playNext() {
            if (settings.repeat == true) {
              settings.repeat = false;
              SongManager.playNext()
              settings.repeat = true;
            }
            else {
              SongManager.playNext()
            }
          }
        </script>
      <!-- <div class="flex">
        <button class="fancybutton color-blue" onclick="SongManager.playPrev()">Previous Song</button>
        <button class="fancybutton color-blue" onclick="local_playNext()">Next Song</button>
      </div> -->
      <hr>
      <div class="flex">
        <button class="fancybutton" onclick="SongManager.scanDirectory();" title="Refresh the music library">Refresh Music Library</button>
        <button id="addsongbutton" class="fancybutton" onclick="SongManager.addSong()" title="Add new songs to your library from your PC or media site (Like YouTube).">Import Songs</button>
        <button id="setdefaultbackgroundbutton" class="fancybutton" onclick="SongManager.selectDefaultBackground()" title="Set the default background for all songs that doesn't have a custom background">Set Default Background</button>
      </div>
      <hr>
      <div class="flex">
        <button id="setbackgroundbutton" class="fancybutton" onclick="SongManager.selectBackground()" title="Set the background for the currently playing song">Set Background</button>
        <button id="importmetadatabutton" class="fancybutton" onclick="SongManager.importCurrentMetadata();" title="Import metadata from the currently playing song">Import metadata</button>
        <button id="setsubtitlesbutton" class="fancybutton" onclick="SongManager.selectSubtitles()" title="Set the subtitles file for the currently playing song">Set Subtitles</button>
        <button id="setstoryboardbutton" class="fancybutton" onclick="SongManager.selectStoryboard()" title="Set the storyboard file for the currently playing song">Set Storyboard</button>
      </div>
      <div id="songinfo">
        <h2>Song Info</h2>
        <div class="pinput" title="Click to edit">
          <input type="search" name="artist">
          <p name="artist"></p>
        </div>
        <br>
        <div class="pinput" title="Click to edit">
          <input type="search" name="title">
          <p name="title"></p>
        </div>
        <br>
        <div class="pinput" title="Click to edit">
          <input type="search" name="album">
          <p name="album"></p>
        </div>
        <br>
        <div class="pinput" title="Click to edit, Enter to save changes.">
          <input type="search" name="source">
          <p name="source"></p>
        </div>
        <br>
        <div class="pinput" title="Click to edit, Enter to save changes.">
          <input type="search" name="sourceLink">
          <p name="sourceLink"></p>
        </div>
        <br>
        <div class="pinput" title="Click to edit, Enter to save changes.">
          <input type="search" name="language">
          <p name="language"></p>
        </div>
        <br>
        <div class="pinput" title="Click to edit, Enter to save changes.">
          <input type="search" name="year">
          <p name="year"></p>
        </div>
        <br>
        <div class="pinput" title="Click to edit, Enter to save changes.">
          <input type="search" name="genre">
          <p name="genre"></p>
        </div>
        <br>
        <div class="pinput" title="Click to edit, Enter to save changes. Separate tags by comma (,)">
          <input type="search" name="tags">
          <p name="tags"></p>
        </div>
        <br>
        <div class="pinput" title="Click to edit, Enter to save changes.">
          <input type="search" name="customGroup">
          <p name="customGroup"></p>
        </div>

        <!-- <div class="pinput">
          <input type="search" name="artist">
          <p name="artist"></p>
        </div> -->
      </div>
    </div>
    <div class="sidebar right" id="settingsmenusidebar">
      <h2>Settings</h2>
      <sup id="currentversion"></sup>
      <button id="updatetoxen" class="fancybutton">Loading...</button>
      <hr>
      <!-- <label for="volumeValue">Volume</label>
      <input type="range" class="fancyrange" id="volumeValue" orient="vertical" value="50" max="100" min="0" oninput="Settings.current.setVolume(this.value);" onmouseup="settings.saveToFile();">
      <hr> -->
      <label for="songFolder">Song Folder</label>
      <select type="text" name="songFolder" id="songfolderValue" class="fancyselect">
        
      </select>
      <button class="fancybutton svg_folderopen_white" onclick="Settings.current.selectSongFolder();" id="selectfolderbutton">Select</button>
      <style>
      </style>
      <hr>
      <!-- <h3>Song Grouping</h3> -->
      <label id="songgroupinglabel">Song Grouping</label>
      <sup>Group songs into smaller folders in the song menu.</sup>
      <!-- <input type="radio" name="sgstyle" id="songgrouping=0" value="0" onclick="settings.songGrouping = 0; settings.saveToFile(); SongManager.refreshList();">
      <label for="songgrouping=0">No grouping</label><br>
      <input type="radio" name="sgstyle" id="songgrouping=1" value="1" onclick="settings.songGrouping = 1; settings.saveToFile(); SongManager.refreshList();">
      <label for="songgrouping=1">By Artist</label><br>
      <input type="radio" name="sgstyle" id="songgrouping=2" value="2" onclick="settings.songGrouping = 2; settings.saveToFile(); SongManager.refreshList();">
      <label for="songgrouping=2">By Album</label><br>
      <input type="radio" name="sgstyle" id="songgrouping=3" value="3" onclick="settings.songGrouping = 3; settings.saveToFile(); SongManager.refreshList();">
      <label for="songgrouping=3">By Source</label><br>
      <input type="radio" name="sgstyle" id="songgrouping=4" value="4" onclick="settings.songGrouping = 4; settings.saveToFile(); SongManager.refreshList();">
      <label for="songgrouping=4">By Language</label><br>
      <input type="radio" name="sgstyle" id="songgrouping=5" value="5" onclick="settings.songGrouping = 5; settings.saveToFile(); SongManager.refreshList();">
      <label for="songgrouping=5">By Genre</label><br>
      <input type="radio" name="sgstyle" id="songgrouping=6" value="6" onclick="settings.songGrouping = 6; settings.saveToFile(); SongManager.refreshList();">
      <label for="songgrouping=6">By Year</label><br>
      <input type="radio" name="sgstyle" id="songgrouping=7" value="7" onclick="settings.songGrouping = 7; settings.saveToFile(); SongManager.refreshList();">
      <label for="songgrouping=7">By Custom Group</label><br>
      <input type="radio" name="sgstyle" id="songgrouping=8" value="7" onclick="settings.songGrouping = 7; settings.saveToFile(); SongManager.refreshList();">
      <label for="songgrouping=8">Alphabetically (Artist)</label><br>
      <input type="radio" name="sgstyle" id="songgrouping=9" value="8" onclick="settings.songGrouping = 8; settings.saveToFile(); SongManager.refreshList();">
      <label for="songgrouping=9">Alphabetically (Title)</label> -->
      <div id="songgroupingcontainer">
        <!-- JavaScript Insert -->
      </div>
      <hr>
      <h3>Visual Settings</h3>
      <label>Visualizer Style</label>
      <sup>Customize how the visualizer is shown.</sup>
      <!-- <input type="radio" name="avstyle" id="visualizerstyle=0" value="0" onclick="settings.visualizerStyle = Storyboard.visualizerStyle = 0; settings.saveToFile();">
      <label for="visualizerstyle=0">Bottom</label><br>
      <input type="radio" name="avstyle" id="visualizerstyle=1" value="1" onclick="settings.visualizerStyle = Storyboard.visualizerStyle = 1; settings.saveToFile();">
      <label for="visualizerstyle=1">Top</label><br>
      <input type="radio" name="avstyle" id="visualizerstyle=2" value="2" onclick="settings.visualizerStyle = Storyboard.visualizerStyle = 2; settings.saveToFile();">
      <label for="visualizerstyle=2">Top and bottom (Identical)</label><br>
      <input type="radio" name="avstyle" id="visualizerstyle=3" value="3" onclick="settings.visualizerStyle = Storyboard.visualizerStyle = 3; settings.saveToFile();">
      <label for="visualizerstyle=3">Center</label><br>
      <input type="radio" name="avstyle" id="visualizerstyle=4" value="4" onclick="settings.visualizerStyle = Storyboard.visualizerStyle = 4; settings.saveToFile();">
      <label for="visualizerstyle=4">Top and bottom (Alternating)</label> -->
      <div id="visualizerstylecontainer">
        <!-- JavaScript Insert -->
      </div>
      <!-- <hr> -->
      <br>
      <br>
      <!-- <input type="checkbox" name="avtoggle" id="visualizerToggle" onclick="settings.visualizer = this.checked; settings.saveToFile();">
      <label for="visualizerToggle">Visualizer</label> -->
      <div id="visualizercontainer">
        <!-- JavaScript Insert -->
      </div>
      <sup>
        Display audio visualizer.
      </sup>
      <br>
      <!-- <input type="checkbox" name="sbtoggle" id="storyboardToggle" onclick="settings.storyboard = this.checked; ToxenScriptManager.loadCurrentScript(); settings.saveToFile();">
      <label for="storyboardToggle">Storyboard</label> -->
      <div id="storyboardcontainer">
        <!-- JavaScript Insert -->
      </div>
      <sup>
        Display ToxenScript storyboards.<br>
        If you're experiencing low performance, try to disable this.
      </sup>
      <br>
      <!-- <input type="checkbox" name="videotoggle" id="videoToggle" onclick="settings.toggleVideo(this.checked); settings.saveToFile();">
      <label for="videoToggle">Display Video</label> -->
      <div id="videotogglecontainer">
        <!-- JavaScript Insert -->
      </div>
      <sup>
        If your song is a video media, play it in the background.<br>
        Turning this off will disable rendering of the video.
      </sup>
      <br>
      <!-- <input type="checkbox" name="hovertoggle" id="buttonactivationbyhoverToggle" onclick="settings.buttonActivationByHover = this.checked; settings.saveToFile();">
      <label for="buttonactivationbyhoverToggle">Button Activation By Hover</label> -->
      <div id="buttonactivationbyhovercontainer">
        <!-- JavaScript Insert -->
      </div>
      <sup>
        Enable this to open the panels by only hovering over the buttons insteading of needing to click them.
      </sup>
      <br>
      <label>Theme</label>
      <sup>
        Theming will be added eventuallyâ„¢
      </sup>
      <!-- <br>
      <input type="checkbox" name="avtoggle" id="lightthemebaseToggle" onclick="settings.setThemeBase(this.checked); settings.saveToFile();">
      <label for="lightthemebaseToggle">Light Theme Base</label>
      <sup>
        Enable this to willingly burn your eyes up.
        <br>
        <span style="text-decoration: underline;">Not recommended to use as it isn't fully compatible with newer features.<br>This might be fixed or possibily removed in a future update.</span>
      </sup>
      <br> -->
      <br>
      <label id="visualizercolorlabel">Visualizer Color</label>
      <div class="flex" id="visualizercolorflexbox">
        <div style="width: 48px;">
          <label for="visualizercolor.redValue" style="text-align: center; width: 100%; display: block">Red</label>
          <input type="range" class="fancyrange" id="visualizercolor.redValue" orient="vertical" value="0" max="255" min="0" oninput="local_setColors(); Settings.current.visualizerColor.red = +this.value" onmouseup="settings.saveToFile();">
          <div id="redColorBlock" style="width: 48px; height: 48px">
            <p style="line-height: 47px; display: block; width: 100%; text-align: center;">0</p>
          </div>
        </div>
        <div style="width: 48px;">
          <label for="visualizercolor.greenValue" style="text-align: center; width: 100%; display: block">Green</label>
          <input type="range" class="fancyrange" id="visualizercolor.greenValue" orient="vertical" value="255" max="255" min="0" oninput="local_setColors(); Settings.current.visualizerColor.green = +this.value" onmouseup="settings.saveToFile();">
          <div id="greenColorBlock" style="width: 48px; height: 48px">
            <p style="line-height: 47px; display: block; width: 100%; text-align: center;">0</p>
          </div>
        </div>
        <div style="width: 48px;">
          <label for="visualizercolor.blueValue" style="text-align: center; width: 100%; display: block">Blue</label>
          <input type="range" class="fancyrange" id="visualizercolor.blueValue" orient="vertical" value="255" max="255" min="0" oninput="local_setColors(); Settings.current.visualizerColor.blue = +this.value" onmouseup="settings.saveToFile();">
          <div id="blueColorBlock" style="width: 48px; height: 48px">
            <p style="line-height: 47px; display: block; width: 100%; text-align: center;">0</p>
          </div>
        </div>
        <div>
          <input id="colorPicker" type="color" style="width: 64px; height: 64px; padding: 0" oninput="local_setColorsFromSelector(this.value)" title="Select from color picker...">
          <!-- <div id="totalColorBlock" style="width: 64px; height: 64px"></div> -->
          <!-- <br> -->
        </div>
        <script>
          function local_setColors() {
            let red = +document.getElementById("visualizercolor.redValue").value;
            let green = +document.getElementById("visualizercolor.greenValue").value;
            let blue = +document.getElementById("visualizercolor.blueValue").value;
            Storyboard.rgb(red, green, blue);
            document.getElementById("redColorBlock").style.backgroundColor = `rgb(${red}, 0, 0)`;
            document.getElementById("greenColorBlock").style.backgroundColor = `rgb(0, ${green}, 0)`;
            document.getElementById("blueColorBlock").style.backgroundColor = `rgb(0, 0, ${blue})`;

            document.getElementById("redColorBlock").firstElementChild.innerText = red;
            document.getElementById("greenColorBlock").firstElementChild.innerText = green;
            document.getElementById("blueColorBlock").firstElementChild.innerText = blue;
            
            document.getElementById("colorPicker").value = Debug.rgbToHex(red, green, blue);
          }
          function local_setColorsFromSelector(value) {
            let rgb = Debug.hexToRgb(value);
            if (rgb == null) return;
            let red = +(document.getElementById("visualizercolor.redValue").value = rgb.red);
            let green = +(document.getElementById("visualizercolor.greenValue").value = rgb.green);
            let blue = +(document.getElementById("visualizercolor.blueValue").value = rgb.blue);
            Storyboard.rgb(red, green, blue);
            document.getElementById("redColorBlock").style.backgroundColor = `rgb(${red}, 0, 0)`;
            document.getElementById("greenColorBlock").style.backgroundColor = `rgb(0, ${green}, 0)`;
            document.getElementById("blueColorBlock").style.backgroundColor = `rgb(0, 0, ${blue})`;

            document.getElementById("redColorBlock").firstElementChild.innerText = red;
            document.getElementById("greenColorBlock").firstElementChild.innerText = green;
            document.getElementById("blueColorBlock").firstElementChild.innerText = blue;
          }
        </script>
      </div>
      <hr>
      <label for="backgrounddimValue">Background Dimming</label>
      <!-- <input type="range" class="fancyrange" id="backgrounddimValue" orient="vertical" value="50" max="100" min="0" oninput="Settings.current.backgroundDim = Storyboard.backgroundDim = this.value" onmouseup="settings.saveToFile();"> -->
      <br>
      <div id="backgrounddiminteractivebarcontainer" style="width: 128px; margin-left: 16px; margin-top: 8px;"></div>
      <hr>
      <!-- <input type="checkbox" name="sptrtoggle" id="songmenutorightToggle" onclick="settings.toggleSongPanelToRight(this.checked); settings.saveToFile();">
      <label for="songmenutorightToggle">Right-hand Song Menu</label>
      <sup>
        Display the song menu to the right side of the screen and settings to the left.
        <br>
        <span style="text-decoration: underline;">Not recommended to use as it isn't fully compatible with newer features.<br>This might be fixed or possibily removed in a future update.</span>
      </sup>
      <hr> -->
      <!-- <label>Song Thumbnail Style</label><br>
      <input type="radio" name="tnstyle" id="thumbnails=0" onclick="settings.thumbnails = 0; SongManager.refreshList(); settings.saveToFile();">
      <label for="thumbnails=0">No Images</label><br>
      <input type="radio" name="tnstyle" id="thumbnails=1" onclick="settings.thumbnails = 1; SongManager.refreshList(); settings.saveToFile();">
      <label for="thumbnails=1">Thumbnails</label><br>
      <sup>
        Display background image next to the song name in the song list.<br>
        If you're experiencing low performance, try to disable this.
      </sup>
      <input type="radio" name="tnstyle" id="thumbnails=2" onclick="settings.thumbnails = 2; SongManager.refreshList(); settings.saveToFile();">
      <label for="thumbnails=2">Background Images</label>
      <sup>
        Display background image as the background behind the song name in the song list.<br>
        If you're experiencing low performance, try to disable this.
      </sup>
      <input type="radio" name="tnstyle" id="thumbnails=3" onclick="settings.thumbnails = 3; SongManager.refreshList(); settings.saveToFile();">
      <label for="thumbnails=3">Background Images (Small & Repeating)</label>
      <sup>
        Display background image as the background behind the song name in the song list.<br>
        This however, makes the images small and repeat across the song item. Use this if you want to see the full images.<br>
        If you're experiencing low performance, try to disable this.
      </sup> -->
      <div id="thumbnailscontainer">
        <!-- JavaScript Insert -->
      </div>
      <hr>
      <script>
        function local_advSettingsToggle(checked) {
          document.getElementById("advancedToggleId").innerHTML = (checked ? "â–¼" : "â–º") + ` <span style="text-decoration: underline;">Advanced Settings</span>`;
        }
      </script>
      <input type="checkbox" name="advtoggle" id="advancedToggle" onclick="settings.advanced = this.checked; local_advSettingsToggle(this.checked)" hidden>
      <label title="Click to toggle advanced settings view" style="text-decoration: none;" for="advancedToggle" id="advancedToggleId">
        â–º <span style="text-decoration: underline;">Advanced Settings</span>
      </label>
      <div id="advancedoptions">
        <!-- <input type="checkbox" name="tntoggle" id="discordpresenceToggle" onclick="Settings.current.toggleDiscordPresence(this.checked); settings.saveToFile();">
        <label for="discordpresenceToggle">Discord Presence</label> -->
        <div id="discordpresencecontainer">
          <!-- JavaScript Insert -->
        </div>
        <sup>
          Discord presence makes Toxen appear as the current "game" being played on your Discord status.
        </sup>
        <!-- <input type="checkbox" name="tntoggle" id="discordpresenceshowdetailsToggle" onclick="settings.discordPresenceShowDetails = this.checked; Toxen.updateDiscordPresence(); settings.saveToFile();">
        <label for="discordpresenceshowdetailsToggle">Discord Presence: Show Details</label> -->
        <div id="discordpresenceshowdetailscontainer">
          <!-- JavaScript Insert -->
        </div>
        <sup>
          Display the details of the current song playing in Discord Presence.
          Details include Artist, Title, and current time.
        </sup>
        <!-- <input type="checkbox" name="avtoggle" id="freezevisualizerToggle" onclick="settings.freezeVisualizer = this.checked; settings.saveToFile();">
        <label for="freezevisualizerToggle">Freeze Visualizer</label> -->
        <div id="freezevisualizercontainer">
          <!-- JavaScript Insert -->
        </div>
        <sup>
          Freeze the audio visualizer when the current song is paused.
        </sup>
        <hr>
        <label for="songFolder">FFMPEG Path</label>
        <input type="text" name="ffmpegPath" id="ffmpegpathValue" readonly class="fancyinput">
        <button class="fancybutton svg_folderopen_white" onclick="Settings.current.selectFFMPEGPath();">Select</button>
        <button class="fancybutton svg_download_white" onclick="Toxen.ffmpegDownload();">Install FFMPEG</button>
        <hr>
        <h2>Hue Bridge</h2>
        <sup>If you own a Philips Hue Bridge, you can allow connection to your lights to be used in the storyboard.</sup>
        <label>Bridge IP / Hostname</label>
        <input type="text" name="huebridgeip" id="huebridgeipValue" placeholder="Bridge IP / Hostname" class="fancyinput">
        <br>
        <label>Bridge Username</label>
        <input type="text" name="huebridgeuser" id="huebridgeuserValue" placeholder="Bridge Username" class="fancyinput">
        <br>
        <label>Bridge Client Key</label>
        <input type="password" name="huebridgeclientkey" id="huebridgeclientkeyValue" placeholder="Bridge Client Key" class="fancyinput">
        <button class="fancybutton" onclick="local_saveHue();">Save Hue Settings</button>
        <script>
          function local_saveHue() {
            Settings.current.hueBridgeIp = document.getElementById('huebridgeipValue').value;
            Settings.current.hueBridgeUser = document.getElementById('huebridgeuserValue').value;
            Settings.current.hueBridgeClientKey = document.getElementById('huebridgeclientkeyValue').value;
            Settings.current.saveToFile();
          }
        </script>
      </div>
      <hr>
      <h2>Module Toggling</h2>
      <sup>
        If you have any modules installed, they will appear here. You can enable them and disable them by changing the checkbox.<br>
        Restarting Toxen is required to update the modules' state.
      </sup>
      <br>
      <div id="moduleActivation"><!-- JavaScript does its thing right arrrrouuuuund: here--></div>
      <hr>
      <div class="flex">
        <button id="restartToxenButton" class="fancybutton svg_reload_white" onclick="Toxen.restart()" style="width: 100%;">Restart Toxen</button>
        <button id="restartToxenButton" class="fancybutton" onclick="SongManager.history.clearAndPrompt()" style="width: 100%;">Clear History</button>
      </div>
      <hr>
    </div>
    <p id="subtitles"></p>
  </div>
  <label id="progresstext" class="hideoninactive"></label>
  <div id="midpanelcontainer" class="floatingbutton hideoninactive">
    <!-- <img src="./img/midpanel.png" alt="midpanel.png" draggable="false"> -->
    <div id="smallshufflebutton" class="smallfloatingbutton" style="transform: translateX(0px);" onclick="SongManager.toggleShuffle()" title="Shuffle makes songs play randomly instead of in a list order">
      <img src="./svg/shuffle_black.svg" svgoff="./svg/shuffle_black.svg" svgon="./svg/shuffle_black_enabled.svg" alt="shuffle_black.svg" draggable="false">
    </div>
    <div id="smallprevbutton" class="smallfloatingbutton" style="transform: translateX(64px);" onclick="SongManager.playPrev()" title="Go to the previous song">
      <img src="./svg/prev_black.svg" alt="prev_black.svg" draggable="false">
    </div>
    <div id="smallplaybutton" class="smallfloatingbutton" style="transform: translateX(128px);" onclick="SongManager.getCurrentlyPlayingSong().play();" title="Pause/play the current song">
      <img src="./svg/pause_black.svg" id="svgplaybutton" svgplay="./svg/play_black.svg" svgpause="./svg/pause_black.svg" draggable="false">
    </div>
    <div id="smallnextbutton" class="smallfloatingbutton" style="transform: translateX(192px);" onclick="local_playNext()" title="Play the next song">
      <img src="./svg/next_black.svg" alt="next_black.svg" draggable="false">
    </div>
    <div id="smallrepeatbutton" class="smallfloatingbutton" style="transform: translateX(256px);" onclick="SongManager.toggleRepeat()" title="Repeat make the current song repeat forever until disabled">
      <img src="./svg/repeat_black.svg" svgoff="./svg/repeat_black.svg" svgon="./svg/repeat_black_enabled.svg" alt="repeat_black.svg" draggable="false">
    </div>
    <div id="audioadjuster" class="smallfloatingbutton" style="transform: translateX(332px);">
      <label>Volume</label>
      <!-- JavaScript inserts an object here :) -->
    </div>
  </div>
  <div id="songpanelbutton" class="floatingbutton hideoninactive" title="Open the Song Panel">
    <img src="./svg/doublemusicnote_white.svg" alt="doublemusicnote_white.svg" draggable="false">
  </div>
  <div id="settingsbutton" class="floatingbutton hideoninactive" title="Open the Settings Panel">
    <img src="./svg/settings_white.svg" alt="settings_white.svg" draggable="false">
  </div>
</body>
</html>